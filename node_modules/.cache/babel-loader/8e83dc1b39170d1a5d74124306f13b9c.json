{"ast":null,"code":"import _classCallCheck from \"/Users/William/Workspaces/Web/cccg/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/William/Workspaces/Web/cccg/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/William/Workspaces/Web/cccg/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/William/Workspaces/Web/cccg/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/William/Workspaces/Web/cccg/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/William/Workspaces/Web/cccg/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/William/Workspaces/Web/cccg/src/App.js\";\nimport React, { Component } from 'react';\nimport jsQR from \"jsqr\";\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n    _this.state = {};\n    _this.onQRCamera = _this.onQRCamera.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"onQRCamera\",\n    value: function onQRCamera(event) {\n      event.stopPropagation();\n      event.preventDefault();\n      var reader = new FileReader();\n\n      reader.onload = function () {\n        event.target.value = \"\";\n\n        qrcode.callback = function (res) {\n          if (res instanceof Error) {\n            alert(\"No QR code found. Please make sure the QR code is within the camera's frame and try again.\");\n          } else {\n            node.parentNode.previousElementSibling.value = res;\n          }\n        };\n\n        qrcode.decode(reader.result);\n      };\n\n      reader.readAsDataURL(node.files[0]);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"qrcode-text-btn\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"file\",\n        accept: \"image/*\",\n        capture: \"environment\",\n        onChange: this.onQRCamera,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      })), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"qrcode-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;\n/*\n<input type=text class=qrcode-text\n><label class=qrcode-text-btn>\n   <input type=file\n         accept=\"image/*\"\n         capture=environment\n         tabindex=-1>\n</label>\n*/","map":{"version":3,"sources":["/Users/William/Workspaces/Web/cccg/src/App.js"],"names":["React","Component","jsQR","App","props","state","onQRCamera","bind","event","stopPropagation","preventDefault","reader","FileReader","onload","target","value","qrcode","callback","res","Error","alert","node","parentNode","previousElementSibling","decode","result","readAsDataURL","files"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,IAAP,MAAiB,MAAjB;;IAEMC,G;;;;;AAEJ,eAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,6EAAMA,KAAN;AACA,UAAKC,KAAL,GAAa,EAAb;AAEA,UAAKC,UAAL,GAAkB,MAAKA,UAAL,CAAgBC,IAAhB,uDAAlB;AAJiB;AAKlB;;;;+BAEUC,K,EAAO;AAChBA,MAAAA,KAAK,CAACC,eAAN;AACAD,MAAAA,KAAK,CAACE,cAAN;AAGA,UAAIC,MAAM,GAAG,IAAIC,UAAJ,EAAb;;AACAD,MAAAA,MAAM,CAACE,MAAP,GAAgB,YAAM;AACpBL,QAAAA,KAAK,CAACM,MAAN,CAAaC,KAAb,GAAqB,EAArB;;AACAC,QAAAA,MAAM,CAACC,QAAP,GAAkB,UAASC,GAAT,EAAc;AAC9B,cAAGA,GAAG,YAAYC,KAAlB,EAAyB;AACvBC,YAAAA,KAAK,CAAC,4FAAD,CAAL;AACD,WAFD,MAEO;AACLC,YAAAA,IAAI,CAACC,UAAL,CAAgBC,sBAAhB,CAAuCR,KAAvC,GAA+CG,GAA/C;AACD;AACF,SAND;;AAOAF,QAAAA,MAAM,CAACQ,MAAP,CAAcb,MAAM,CAACc,MAArB;AACC,OAVH;;AAWAd,MAAAA,MAAM,CAACe,aAAP,CAAqBL,IAAI,CAACM,KAAL,CAAW,CAAX,CAArB;AACD;;;6BAGD;AACE,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAO,QAAA,SAAS,EAAC,iBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,MAAM,EAAC,SAA1B;AAAoC,QAAA,OAAO,EAAC,aAA5C;AAA0D,QAAA,QAAQ,EAAE,KAAKrB,UAAzE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF,EAIE;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,SAAS,EAAC,aAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJF,CADF;AAQD;;;;EAvCeL,S;;AA0ClB,eAAeE,GAAf;AAGA","sourcesContent":["import React, { Component } from 'react';\nimport jsQR from \"jsqr\";\n\nclass App extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {};\n\n    this.onQRCamera = this.onQRCamera.bind(this); \n  }\n\n  onQRCamera(event) {\n    event.stopPropagation()\n    event.preventDefault()\n\n\n    var reader = new FileReader();\n    reader.onload = () => {\n      event.target.value = \"\";\n      qrcode.callback = function(res) {\n        if(res instanceof Error) {\n          alert(\"No QR code found. Please make sure the QR code is within the camera's frame and try again.\");\n        } else {\n          node.parentNode.previousElementSibling.value = res;\n        }\n      };\n      qrcode.decode(reader.result);\n      };\n    reader.readAsDataURL(node.files[0]);\n  }\n\n  render()\n  {\n    return(\n      <div>\n        <label className='qrcode-text-btn'>\n          <input type='file' accept='image/*' capture='environment' onChange={this.onQRCamera}></input>\n        </label>\n        <input type='text' className='qrcode-text'></input>\n      </div>\n    )\n  }\n}\n\nexport default App;\n\n\n/*\n<input type=text class=qrcode-text\n><label class=qrcode-text-btn>\n   <input type=file\n         accept=\"image/*\"\n         capture=environment\n         tabindex=-1>\n</label>\n*/"]},"metadata":{},"sourceType":"module"}